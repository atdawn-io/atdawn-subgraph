specVersion: 0.0.5
description: AtDawnData subgraph for tracking user stats
repository: https://github.com/your-repo/ad_test
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: AtDawnData
    network: mainnet
    source:
      address: "0x78925Ce372c918011Eb2966264b668B2F256224C"
      abi: AtDawnData
      startBlock: 12136274
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - AtDawnData_AddBonus
        - AtDawnData_AddCredit
        - AtDawnData_AddExp
        - AtDawnData_AddInvitaNum
        - AtDawnData_Register
        - AtDawnData_SetReferrer
        - AtDawnData_SubBonus
        - AtDawnData_SubCredit
        - AtDawnData_SubExp
        - AtDawnData_SubInvitaNum
        - UserStats
      abis:
        - name: AtDawnData
          file: ./abis/AtDawnData.json
      eventHandlers:
        - event: AddBonus(address,uint256,uint256)
          handler: handleAddBonus
        - event: AddCredit(address,uint256,uint256)
          handler: handleAddCredit
        - event: AddExp(address,uint256,uint256)
          handler: handleAddExp
        - event: AddInvitaNum(address,uint256,uint256)
          handler: handleAddInvitaNum
        - event: Register(address,string,uint256)
          handler: handleRegister
        - event: SetReferrer(address,address,uint256)
          handler: handleSetReferrer
        - event: SubBonus(address,uint256,uint256)
          handler: handleSubBonus
        - event: SubCredit(address,uint256,uint256)
          handler: handleSubCredit
        - event: SubExp(address,uint256,uint256)
          handler: handleSubExp
        - event: SubInvitaNum(address,uint256,uint256)
          handler: handleSubInvitaNum
      file: ./src/mapping.ts